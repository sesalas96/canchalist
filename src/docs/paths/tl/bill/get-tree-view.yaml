get:
    tags:
        - tl/bill
    summary: Get Tree Main View
    description: "TLBIL$MBRTREEGETMAIN. Get Tree Main View"
    parameters:
        - name: orderNumber
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "Prism order number and NNE order number"
        - name: memberNumber
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "PRISM MemberNumber (EXC || LIN || RES) or SIEBEL Phone Number || BAN"
        - name: serviceAccountNumber
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "Service Account Number used in Siebel. SAN-BAN is needed as input to avoid multiple accounts being returned by the API. To Capture CPNI Information on the Service Account Level"
        - name: maximumMembers
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "Maximum number of members to retrieve"
        - name: beginAfterMbr
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "Begin after member identifier"
        - name: returnSequence
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "Whether to return sequence"
        - name: returnAllIfLessthanQty
          in: query
          schema:
              type: string
              nullable: true
          required: false
          description: "Return all results if the total is less than a certain quantity"
    responses:
        "200":
            description: Successful response
            content:
                application/json:
                    schema:
                        type: object
                        properties:
                            settings:
                                $ref: "../../../components/schemas/settings.yaml#/schemas/Settings"
                                nullable: true
                                example:
                                    sourceEnvironment: "TLP1LUF"
                                    clientApplication: "COMMON_UI"
                                    currentUser: "KXCROWL"
                                    transactionId: "3c77d010-8fbc-47bb-b7ed-512fff3d9209"
                                    clientFunction: ""
                                    activeBillId: ""
                                    activeMemberId: ""
                                    activeMemberNum: ""
                                    sourceStack: "PRISM"
                            messages:
                                $ref: "../../../components/schemas/common.yaml#/schemas/messageResultSet"
                                example:
                                    group: "EIT3210RE"
                                    sentToExtInterface: ""
                                    callingProgram: "EIT3210RE"
                                    sqlStateCode: ""
                                    dataSequence: 0
                                    sqlStateText: ""
                                    callingProcedure: "EIA0110R"
                                    msgText: "Cursor EIT3210C01 opened on QTEMP.EIT3210P01 in EIT3210RE."
                                    msgSeverity: 0
                                    sqlStateMsgId: ""
                                    msgFile: "ENVMSGF"
                                    sentToMsgQueue: ""
                                    guid: "21327EW0200110142645076489239001"
                                    dataAlias: ""
                                    dataField: ""
                                    msgId: "EIM0110"
                                    dataValue: ""
                                    msgData: "EIT3210C01               QTEMP     EIT3210P01EIT3210RE"
                                    dataFile: "EIT3210P01"
                            resultSet2:
                                type: array
                                items:
                                    type: object
                                    properties:
                                        billingPhoneExc:
                                            $ref: "../../../components/schemas/common.yaml#/schemas/NUM_PHONE_EXC"
                                        billingPhoneLin:
                                            $ref: "../../../components/schemas/common.yaml#/schemas/NUM_PHONE_LIN"
                                        billingPhoneRes:
                                            $ref: "../../../components/schemas/common.yaml#/schemas/NUM_PHONE_RES"
                                        memberPhoneExc:
                                            type: string
                                        memberPhoneLin:
                                            type: string
                                        memberPhoneRes:
                                            type: string
                                        memberName:
                                            type: string
                                        samControlNumber:
                                            type: number
                                        streetAddress:
                                            type: string
                                        package:
                                            type: string
                                        packageDesc:
                                            type: string
                                        product:
                                            type: string
                                        productDesc:
                                            type: string
                                        openOrderNumber:
                                            type: string
                                        productActivityFlag:
                                            type: string
                                        orderExtClassification:
                                            type: string
                                        disconnectDate:
                                            type: string
                                            format: date
                                        orderMemberActivityFlag:
                                            type: string
                                        customerIdNumber:
                                            type: number
                                        billIdNumber:
                                            type: number
                                        customerLastName:
                                            type: string
                                        customerFirstName:
                                            type: string
                                        customerNameFormat:
                                            type: string
                                        billLevel:
                                            type: string
                                        serviceAccountNumber:
                                            type: string
                                        memberNumber:
                                            type: string
                                        billingNumber:
                                            type: string
                                        orderableEntityKey:
                                            type: string
                                        commonServiceType:
                                            type: string
                                        commonServiceTypeDescription:
                                            type: string
                                        memberNumberDescription:
                                            type: string
                                        relatedLineId:
                                            type: string
                                        bundleFlag:
                                            type: string
                                        secondConnect:
                                            type: string
                                        serialNumber:
                                            type: string
                                        telephoneNumber:
                                            type: string
                                        billIdStatus:
                                            type: string
                                        customerIdStatus:
                                            type: string
                                        serviceAccountStatus:
                                            type: string
                                        orderItemStatus:
                                            type: string
                                            nullable: true
                                        greenEnergyFlag:
                                            type: string
                                            nullable: true
                                example:
                                    billingPhoneExc: 936637
                                    billingPhoneLin: 4800
                                    billingPhoneRes: 0
                                    memberPhoneExc: 936637
                                    memberPhoneLin: 4800
                                    memberPhoneRes: 0
                                    memberName: "DAVID FENLEY"
                                    samControlNumber: 12501
                                    streetAddress: "216 PEBBLE CREEK ST LUF,TX"
                                    package: ""
                                    packageDesc: ""
                                    product: "DATA"
                                    productDesc: "DATA"
                                    openOrderNumber: ""
                                    productActivityFlag: ""
                                    orderExtClassification: ""
                                    disconnectDate: "2023-01-01"
                                    orderMemberActivityFlag: ""
                                    customerIdNumber: 1294974
                                    billIdNumber: 1294975
                                    customerLastName: "FENLEY"
                                    customerFirstName: "DAVID"
                                    customerNameFormat: "Y"
                                    billLevel: "M"
                                    serviceAccountNumber: "1234"
                                    memberNumber: "1234"
                                    billingNumber: "12345"
                                    orderableEntityKey: "123145"
                                    commonServiceType: "VOICE"
                                    commonServiceTypeDescription: "VOICE"
                                    bundleFlag: ""
                                    relatedLineId: ""
                                    secondConnect: ""
                                    memberNumberDescription: "93663748000"
                                    serialNumber: "sample"
                                    telephoneNumber: "93663748000"
                                    serviceStatus: ""
                                    disconnectReasonCode: ""
                                    billingAccountRowId: "1-41Y-1914"
                                    orderItemId: ""
                                    actionCode: ""
                                    assetLockFlag: ""
                                    billIdStatus: ""
                                    customerIdStatus: ""
                                    serviceAccountStatus: ""
                                    orderItemStatus: ""
                                    greenEnergyFlag: "Y"
                            resultSet3:
                                type: array
                                items:
                                    type: object
                                    properties:
                                        totalMembersInGroup:
                                            type: number
                                        totalNodesInGroup:
                                            type: number
                                        allMembersReturned:
                                            type: string
                                        totalMembersReturned:
                                            type: number
                                        totalNodesReturned:
                                            type: number
                                example:
                                    totalMembersInGroup: 1
                                    totalNodesInGroup: 6
                                    allMembersReturned: "*YES"
                                    totalMembersReturned: 1
                                    totalNodesReturned: 6
